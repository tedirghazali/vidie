import{defineComponent as e,openBlock as t,createBlock as a,renderSlot as l,createCommentVNode as n,createVNode as s,ref as r,nextTick as u,reactive as d,computed as o,toRefs as v,watch as i,Fragment as y,renderList as p,toDisplayString as c,inject as g,watchEffect as m,resolveComponent as f,createTextVNode as h,toRef as b,withDirectives as D,withKeys as k,vModelText as w,Transition as N,withCtx as x,vShow as E}from"vue";import{$string as T,date as C,array as S,number as M,$array as B}from"alga-js";var R=e({name:"Page",props:{sections:{type:String,default:"full"},sectionTop:{type:Boolean,default:!1},sectionLeft:{type:Boolean,default:!1},sectionRight:{type:Boolean,default:!1},sectionBottom:{type:Boolean,default:!1}},setup:(e,t)=>({pageLayout:()=>{let t;return t=""===e.sections?"page":"page"+T.capitalize(e.sections.replace("-"," "),"multiple").replace(" ","").trim(),t}})});const Y={key:0,class:"sectionTop"},W={key:1,class:"sectionLeft"},$={class:"sectionMain"},I={key:2,class:"sectionRight"},V={key:3,class:"sectionBottom"};R.render=function(e,r,u,d,o,v){return t(),a("div",{class:e.pageLayout()},[e.sectionTop?(t(),a("div",Y,[l(e.$slots,"sectionTop")])):n("",!0),e.sectionLeft?(t(),a("div",W,[l(e.$slots,"sectionLeft")])):n("",!0),s("div",$,[l(e.$slots,"default")]),e.sectionRight?(t(),a("div",I,[l(e.$slots,"sectionRight")])):n("",!0),e.sectionBottom?(t(),a("div",V,[l(e.$slots,"sectionBottom")])):n("",!0)],2)};var L=e({name:"NavBar",props:{container:{type:[String,Boolean],default:"fluid"},menuStart:{type:Boolean,default:!1},menuCenter:{type:Boolean,default:!1},menuEnd:{type:Boolean,default:!1}},setup:(e,t)=>({containerBar:()=>{let t;return t=!0===e.container?"container":!1===e.container?"navWrapper":"container"+T.capitalize(e.container),t}})});const A={class:"navBar dark zi-3"},F={key:0,class:"navMenuStart"},P={key:1,class:"navMenuCenter"},U={key:2,class:"navMenuFill"},X={key:3,class:"navMenuEnd"};L.render=function(e,r,u,d,o,v){return t(),a("nav",A,[s("div",{class:e.containerBar()},[e.menuStart?(t(),a("div",F,[l(e.$slots,"menuStart")])):n("",!0),e.menuCenter?(t(),a("div",P,[l(e.$slots,"menuCenter")])):(t(),a("div",U,[l(e.$slots,"default")])),e.menuEnd?(t(),a("div",X,[l(e.$slots,"menuEnd")])):n("",!0)],2)])};var G=e({name:"SideBar",props:{type:{type:String,default:""},menuStart:{type:Boolean,default:!1},menuCenter:{type:Boolean,default:!1},menuEnd:{type:Boolean,default:!1}},setup:(e,t)=>({sideBar:()=>{let t;return t=""===e.type?"sideBar":"sideBar "+e.type,t}})});const z={key:0,class:"sideMenuStart"},O={key:1,class:"sideMenuCenter"},Z={key:2,class:"sideMenuFill"},H={key:3,class:"sideMenuEnd"};G.render=function(e,s,r,u,d,o){return t(),a("div",{class:[e.sideBar(),"dark","zi-2"]},[e.menuStart?(t(),a("div",z,[l(e.$slots,"menuStart")])):n("",!0),e.menuCenter?(t(),a("div",O,[l(e.$slots,"menuCenter")])):(t(),a("div",Z,[l(e.$slots,"default")])),e.menuEnd?(t(),a("div",H,[l(e.$slots,"menuEnd")])):n("",!0)],2)};var j=e({name:"DarkMode",props:{},setup(){const e=r(!1),t=r(null),a=r(!1);(localStorage.getItem("preferredDarkMode")&&"true"===localStorage.getItem("preferredDarkMode")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&u((()=>{a.value=!0,n()}));const l=()=>{e.value?(document.documentElement.setAttribute("data-mode","dark"),document.body.classList.add("darker"),localStorage.setItem("preferredDarkMode","true")):(document.documentElement.removeAttribute("data-mode"),localStorage.setItem("preferredDarkMode","false"))},n=()=>{a.value?(e.value=!0,l(),a.value=!1):(e.value=!1,l(),a.value=!0)};return{toggleRef:t,toggleEvent:()=>{u((()=>{n()}))},darkMode:e}}});const q={key:0},K={key:1};function _(e=null,t=null,a=null,l={value:"en-US"},n={value:"short"}){const s=r(0),u=r(0),v=r(0),i=r(0),y=r([]),p=d({dateEvent:"startdate"});s.value=null!==e&&0!==e.value?e.value:Number((new Date).getFullYear()),u.value=null!==t&&0!==t.value?t.value:Number((new Date).getMonth())+1,v.value=null!==a&&0!==a.value?a.value:Number((new Date).getDate());const c=o((()=>C.days(l.value,n.value))),g=o((()=>C.week(s.value,u.value,v.value)));i.value=g.value;const m=o((()=>C.weeks(s.value,i.value,"YYYY-MM-DD"))),f=o((()=>{const e=Number(new Date(s.value,Number(u.value)-1,1).getDay());let t=[];if(e>0)for(let a=Number(C.daysInMonth(s.value,Number(u.value)-1))-(e-1);a<=Number(C.daysInMonth(s.value,Number(u.value)-1));a++)t.push(a);return t})),h=o((()=>C.daysInMonth(s.value,u.value))),b=o((()=>{const e=Number(new Date(s.value,Number(u.value)-1,Number(C.daysInMonth(s.value,u.value))).getDay());let t=[];if(e<6){const a=6-e;for(let e=1;e<=a;e++)t.push(e)}return t})),D=Number(new Date(s.value,Number(u.value)-1,v.value).getDay()),k=o((()=>{let e=[];if(D>0){const t=D+1;for(let a=1;a<t;a++)e.push(C.subtractDate(new Date(s.value,Number(u.value)-1,v.value),a),"YYYY-MM-DD")}return e})),w=o((()=>{let e=[];if(D<6){const t=6-D;for(let a=1;a<=t;a++)e.push(C.addDate(new Date(s.value,Number(u.value)-1,v.value),a),"YYYY-MM-DD")}return e})),N=o((()=>y.value.length>=1?S.group(y.value,(e=>{if(p.dateEvent in e)return new Date(e[p.dateEvent]).getDate()})):[])),x=o((()=>y.value.length>=1?S.group(y.value,(e=>{if(p.dateEvent in e)return new Date(e[p.dateEvent]).getHours()})):[]));return{setYearRef:s,setMonthRef:u,setDayRef:v,setWeeks:i,getWeeks:g,getWeekDays:m,getDayNames:c,getPrevDays:f,getMonthDays:h,getNextDays:b,getBeforeDays:k,getAfterDays:w,setEvents:y,getEvents:N,getEventsByTime:x}}function J(e=null,t=null,a=null,l={value:"en-US"},n={value:"short"},s={value:"long"}){const u=r(0),d=r(0),v=r(0),i=r(0),y=r(0),p=r(""),c=r(0);u.value=null!==e&&0!==e.value?e.value:Number((new Date).getFullYear()),d.value=null!==t&&0!==t.value?t.value:Number((new Date).getMonth())+1,v.value=null!==a&&0!==a.value?a.value:(new Date).getDate();const g=o((()=>{const e=0!==i.value?i.value:1980,t=0!==y.value?y.value:Number((new Date).getFullYear())+5;return M.loop(e,t)})),m=o((()=>C.months(l.value,s.value))),f=o((()=>C.days(l.value,n.value))),h=o((()=>C.week(u.value,d.value,v.value)));c.value=h.value;const b=o((()=>{let e="";return e="daily"===p.value?`${f.value[new Date(u.value,Number(d.value)-1,v.value).getDay()]}, ${v.value} ${m.value[new Date(u.value,Number(d.value)-1).getMonth()]} ${u.value}`:"weekly"===p.value?`Week ${c.value}`:"yearly"===p.value?`${u.value}`:`${m.value[new Date(u.value,Number(d.value)-1).getMonth()]} ${u.value}`,e}));return{setYearRef:u,setMonthRef:d,setDayRef:v,setWeeks:c,setCalendarType:p,startYear:i,endYear:y,getRangeYears:g,getMonthNames:m,getDayNames:f,getWeeks:h,getCalendarTitle:b,handleYear:e=>{u.value="prev"===e?u.value-1:"next"===e?u.value+1:(new Date).getFullYear()},handleMonth:e=>{"prev"===e?d.value>1&&d.value<=12?d.value=d.value-1:1===d.value&&(d.value=12,u.value=u.value-1):"next"===e?d.value>=1&&d.value<12?d.value=d.value+1:12===d.value&&(d.value=1,u.value=u.value+1):(d.value=Number((new Date).getMonth())+1,u.value=(new Date).getFullYear())},handleWeek:e=>{"prev"===e?1!==c.value?c.value=c.value-1:c.value=52:"next"===e?52!==c.value?c.value=c.value+1:c.value=1:c.value=h.value},handleDay:e=>{"prev"===e?1!==v.value?v.value=v.value-1:(v.value=Number(C.daysInMonth(u.value,Number(d.value)-1)),d.value>1&&d.value<=12?d.value=d.value-1:1===d.value&&(d.value=12,u.value=u.value-1)):"next"===e?v.value!==Number(C.daysInMonth(u.value,d.value))?v.value=v.value+1:(v.value=1,d.value>=1&&d.value<12?d.value=d.value+1:12===d.value&&(d.value=1,u.value=u.value+1)):(d.value=Number((new Date).getMonth())+1,u.value=(new Date).getFullYear(),v.value=(new Date).getDate())}}}j.render=function(e,n,s,r,u,d){return t(),a("div",{ref:"toggleRef",onClick:n[1]||(n[1]=(...t)=>e.toggleEvent&&e.toggleEvent(...t))},[e.darkMode?(t(),a("div",q,[l(e.$slots,"dark")])):(t(),a("div",K,[l(e.$slots,"default")]))],512)};var Q=e({name:"BasicCalendar",props:{modelValue:{type:String,default:""},year:{type:Number,default:(new Date).getFullYear()},month:{type:Number,default:Number((new Date).getMonth())+1},locale:{type:String,default:"en-US"},dayType:{type:String,default:"short"},events:{type:Array,default:[]}},emits:["update:modelValue","action"],setup(e,t){const a=r(""),{modelValue:l,year:n,month:s,locale:u,dayType:d,events:o}=v(e),{getDayNames:y,getPrevDays:p,getMonthDays:c,getNextDays:g,setEvents:m,getEvents:f}=_(n,s,null,u,d);return m.value=o.value,i(o,((e,t)=>{m.value=o.value})),i(l,((t,l)=>{a.value=e.modelValue})),{getDayNames:y,getPrevDays:p,getMonthDays:c,getNextDays:g,getEvents:f,eventDate:e=>{a.value=`${n.value}-${s.value}-${e}`,t.emit("update:modelValue",`${n.value}-${s.value}-${e}`),t.emit("action")},resultDate:a}}});const ee={class:"dark"},te={class:"gridColumns-7 gridItemsCenter"},ae={class:"pd-2"},le={class:"pd-2"},ne={key:0,class:"pd-2 relative"},se=s("span",{class:"dot absolute bottom-0 left-40",style:{"--dot":"6px"}},null,-1),re={key:1,class:["pd-2"]},ue={class:"pd-2"};Q.render=function(e,l,n,r,u,d){return t(),a("div",ee,[s("div",te,[(t(!0),a(y,null,p(e.getDayNames,(e=>(t(),a("div",{key:e,class:"mgY-1 wd-100 txtCenter txtGray"},[s("div",ae,c(e),1)])))),128)),(t(!0),a(y,null,p(e.getPrevDays,(e=>(t(),a("div",{key:e,class:"mgY-1 wd-100 txtCenter txtGray"},[s("div",le,c(e),1)])))),128)),(t(!0),a(y,null,p(e.getMonthDays,(l=>(t(),a("div",{key:l,class:["mgY-1","wd-100","txtCenter","cursorPointer"],onClick:t=>e.eventDate(l)},[`${l}`in e.getEvents?(t(),a("div",ne,[s("div",null,c(l),1),se])):(t(),a("div",re,c(l),1))],8,["onClick"])))),128)),(t(!0),a(y,null,p(e.getNextDays,(e=>(t(),a("div",{key:e,class:"mgY-1 wd-100 txtCenter txtGray"},[s("div",ue,c(e),1)])))),128))])])};var de=e({name:"CalendarPage",props:{modelValue:{type:String,default:""},locale:{type:String,default:"en-US"},dayType:{type:String,default:"narrow"},monthType:{type:String,default:"long"},events:{type:Array,default:[]}},emits:["update:modelValue"],components:{BasicCalendar:Q},setup(e,t){const a=r(""),{locale:l,dayType:n,monthType:s,events:u}=v(e),d=g("year",Number((new Date).getFullYear())),{setYearRef:o,getMonthNames:i}=J(d,null,null,l,n,s);m((()=>{o.value=d.value}));return{date:a,emitDate:()=>{t.emit("update:modelValue",a.value)},setYearRef:o,getMonthNames:i,events:u,filteredEvents:(e,t)=>e.filter((e=>Number(new Date(e.startdate).getMonth())+1===t))}}});const oe={class:"dark"},ve={class:"gridColumns-4 gridItemsCenter gap-8"},ie={class:"bd-1 bdDarker pdX-5 pdTop-3 pdBottom-4 rd-2 wd-100"},ye={class:"txtCenter txtBold txt-5"};de.render=function(e,l,n,r,u,d){const o=f("BasicCalendar");return t(),a("div",oe,[s("div",ve,[(t(),a(y,null,p(12,(t=>s("div",ie,[s("div",ye,c(e.getMonthNames[Number(t)-1]),1),s(o,{modelValue:e.date,"onUpdate:modelValue":l[1]||(l[1]=t=>e.date=t),year:e.setYearRef,month:t,dayType:"narrow",events:e.filteredEvents(e.events,t),onAction:l[2]||(l[2]=t=>e.emitDate())},null,8,["modelValue","year","month","events"])]))),64))])])};var pe=e({name:"MonthlyCalendar",props:{modelValue:{type:String,default:""},events:{type:Array,default:[]},locale:{type:String,default:"en-US"},dayType:{type:String,default:"short"}},emits:["update:modelValue","action"],setup(e,t){const a=r(""),{modelValue:l,locale:n,dayType:s,events:u}=v(e),o=d({frameWidth:r(0)}),y=g("year",(new Date).getFullYear()),p=g("month",Number((new Date).getMonth())+1),{setYearRef:c,setMonthRef:f,getDayNames:h,getPrevDays:b,getMonthDays:D,getNextDays:k,setEvents:w,getEvents:N}=_(y,p,null,n,s);i(u,(()=>{w.value=u.value})),m((()=>{c.value=y.value})),m((()=>{f.value=p.value,w.value=u.value}));return i(l,((t,l)=>{a.value=e.modelValue})),{getDayNames:h,getPrevDays:b,getMonthDays:D,getNextDays:k,setDateRef:e=>{e&&0===o.frameWidth&&(o.frameWidth=e.clientWidth)},widthRefs:o,getEvents:N,getShortTime:e=>{const t=e.split(/\s|,|\:|-|T|Z/g).filter((e=>""!==e));return`${t[3]}:${t[4]}`},eventWidth:(e,t)=>{const a=Number(o.frameWidth)+16,l=Number(new Date(e).getDay())*a;return(Number(new Date(t).getDay())+1)*a-(l+8)+"px"},eventDate:e=>{a.value=e,t.emit("update:modelValue",a.value)},resultDate:a}}});const ce={class:"dark"},ge={class:"gridColumns-7 gridItemsCenter bdStart-1 bdEnd-0 bdSolid bdOpacity-2 bdBlack"},me={class:"pd-2"},fe={class:"pd-2 txtGray",style:{height:"170px"}},he={class:"pd-2 flex flexColumn",style:{height:"180px"}},be=s("span",{class:"dot mgRight-2"},null,-1),De={class:"txtGray txt-1"},ke={class:"pd-2 ph-20 txtGray",style:{height:"170px"}};pe.render=function(e,l,r,u,d,o){return t(),a("div",ce,[s("div",ge,[(t(!0),a(y,null,p(e.getDayNames,(e=>(t(),a("div",{key:e,class:["wd-100","txtCenter","bdStart-0","bdEnd-1","bdSolid","bdBlack","eventNone","selectionNone"]},[s("div",me,c(e),1)])))),128)),(t(!0),a(y,null,p(e.getPrevDays,(e=>(t(),a("div",{key:e,class:["wd-100","txtRight","bdStart-0","bdEnd-1","bdSolid","bdBlack","eventNone","selectionNone"]},[s("div",fe,c(e),1)])))),128)),(t(!0),a(y,null,p(e.getMonthDays,(l=>(t(),a("div",{key:l,class:["wd-100","txtRight","bdStart-0","bdEnd-1","bdSolid","bdBlack"],onClick:t=>e.eventDate(l)},[s("div",he,[s("div",null,c(l),1),`${l}`in e.getEvents?(t(),a(y,{key:0},[s("div",{class:"relative flexFill mgTop-1",ref:e.setDateRef},[(t(!0),a(y,null,p(e.getEvents[`${l}`],((l,s)=>(t(),a(y,{key:l},[s<=3?(t(),a(y,{key:0},[0===l.allday?(t(),a("div",{key:0,class:"absolute left-0 rd-2 pdY-1 pdX-2 txtLeft txt-2 txtTruncate bgBrightest dark",style:{width:e.widthRefs.frameWidth+"px",top:30*Number(s)+"px"}},[be,h(c(e.getShortTime(l.startdate))+" "+c(l.title),1)],4)):(t(),a("div",{key:1,class:"absolute left-0 rd-2 pdY-1 pdX-2 txtLeft txt-2 txtTruncate primary",style:{width:"0000-00-00 00:00:00"!==l.enddate&&l.enddate!==l.startdate?e.eventWidth(l.startdate,l.enddate):e.widthRefs.frameWidth+"px",top:30*Number(s)+"px"}},c(l.title),5))],64)):n("",!0)],64)))),128))],512),s("div",De,c(Number(e.getEvents[`${l}`].length)-4>=1?"+"+(Number(e.getEvents[`${l}`].length)-4)+" more":""),1)],64)):n("",!0)])],8,["onClick"])))),128)),(t(!0),a(y,null,p(e.getNextDays,(e=>(t(),a("div",{key:e,class:["wd-100","txtRight","bdStart-0","bdEnd-1","bdSolid","bdBlack","eventNone","selectionNone"]},[s("div",ke,c(e),1)])))),128))])])};var we=e({name:"WeeklyCalendar",props:{start:{type:String},end:{type:String},events:{type:Array,default:[]},dayType:{type:String,default:"short"}},emits:["update:start","update:end"],setup(e,t){const a=r(0),l=r([]),n=d({frameWidth:r(0)}),{events:s,dayType:u}=v(e),o=g("year",(new Date).getFullYear()),y=g("month",Number((new Date).getMonth())+1),p=g("day",(new Date).getDate()),c=g("locale","en-US"),{getDayNames:f,setWeeks:h,getWeeks:b,getWeekDays:D,setEvents:k,getEventsByTime:w}=_(o,y,p,c,u),N=g("week",b.value);m((()=>{h.value=N.value,t.emit("update:start",D.value[0]),t.emit("update:end",D.value[6])}));return i(s,(()=>{l.value=s.value.filter((e=>1===Number(e.allday))),a.value=0!==l.value.length?l.value.length:1,k.value=s.value.filter((e=>0===Number(e.allday)))})),{getDayNames:f,getWeekDays:D,showDay:e=>{const t=e.split("-");return new Date(Number(t[0]),Number(t[1])-1,Number(t[2])).getDate()},matchDay:e=>{const t=e.replace("Z","").split(/-|:|\s|\.|T/g);return new Date(Number(t[0]),Number(t[1])-1,Number(t[2])).getDay()},matchTime:e=>{const t=e.replace("Z","").split(/-|:|\s|\.|T/g);return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]),Number(t[4])).getMinutes()},allDay:a,allDayEvents:l,getEventsByTime:w,setDateRef:e=>{e&&0===n.frameWidth&&(n.frameWidth=e.clientWidth)},widthRefs:n,eventWidth:(e,t)=>{const a=n.frameWidth,l=Number(new Date(e).getDay())*a,s=(Number(new Date(t).getDay())+1)*a-(l+5);return 0!==s?s+"px":a+"px"}}}});const Ne={class:"flex bdOpacity-2"},xe={class:["txtCenter","bdStart-1","bdRight-0","bdBottom-1","bdSolid","bdBlack","bdDarker"],style:{width:"60px"}},Ee=s("div",{class:"pd-2"}," ",-1),Te={class:"bdTop-1 bdDarker"},Ce={key:0},Se={key:1},Me={class:"bdTop-1 bdDarker pd-2"},Be=s("div",{class:"bdTop-1 bdX-0 bdBottom-0 bdDashed bdDarker pd-2"}," ",-1),Re={class:"gridColumns-7 bdStart-1 bdEnd-0 bdSolid bdBlack flexFill"},Ye={class:"pd-2"},We={class:"bdTop-1 bdDarker"},$e=s("span",null," ",-1),Ie={class:"relative bdTop-1 bdDarker pd-2 txtLeft"},Ve=s("span",{class:"dot mgRight-2"},null,-1),Le=s("span",null," ",-1),Ae=s("div",{class:"relative bdTop-1 bdX-0 bdBottom-0 bdDashed bdDarker pd-2 txtLeft"},[s("span",null," ")],-1);we.render=function(e,l,r,u,d,o){return t(),a("div",Ne,[s("div",xe,[Ee,s("div",Te,[(t(!0),a(y,null,p(e.allDay,(e=>(t(),a("div",{key:e,class:[{"bdTop-1":1!==e,"bdTop-0":1===e},"bdX-0","bdBottom-0","bdDashed","bdDarker","pd-2"]},[1===e?(t(),a("span",Ce,"allday")):(t(),a("span",Se," "))],2)))),128))]),(t(),a(y,null,p(24,(e=>s("div",{key:e-1},[s("div",Me,c(e-1)+":00",1),Be]))),64))]),s("div",Re,[(t(!0),a(y,null,p(e.getDayNames,((l,r)=>(t(),a("div",{key:l,class:["wd-100","txtCenter","bdStart-0","bdEnd-1","bdSolid","bdBlack","eventNone","selectionNone"],ref:e.setDateRef},[s("div",Ye,c(l)+" "+c(e.showDay(e.getWeekDays[r])),1),s("div",We,[(t(!0),a(y,null,p(e.allDay,(l=>(t(),a("div",{key:l,class:["relative",{"bdTop-1":1!==l,"bdTop-0":1===l},"bdX-0","bdBottom-0","bdDashed","bdDarker","pd-2","txtLeft"]},[void 0!==e.allDayEvents[Number(l)-1]&&e.matchDay(e.allDayEvents[Number(l)-1].startdate)===r?(t(),a("div",{key:0,class:"absolute rd-2 pdY-1 pdX-2 txtLeft txt-2 txtTruncate primary",style:{width:"0000-00-00 00:00:00"!==e.allDayEvents[Number(l)-1].enddate&&e.allDayEvents[Number(l)-1].enddate!==e.allDayEvents[Number(l)-1].startdate?e.eventWidth(e.allDayEvents[Number(l)-1].startdate,e.allDayEvents[Number(l)-1].enddate):e.widthRefs.frameWidth-5+"px",left:"2.5px",top:"2.5px"}},c(e.allDayEvents[Number(l)-1].title),5)):n("",!0),$e],2)))),128))]),(t(),a(y,null,p(24,(l=>s("div",{key:l-1},[s("div",Ie,[void 0!==e.getEventsByTime[Number(l)-1]?(t(!0),a(y,{key:0},p(e.getEventsByTime[Number(l)-1],(l=>(t(),a(y,null,[e.matchDay(l.startdate)===r?(t(),a("div",{key:0,class:"absolute rd-2 pdY-1 pdX-2 txtLeft txt-2 txtTruncate bgBrightest dark",style:{width:e.widthRefs.frameWidth-5+"px",left:"2.5px",top:"2.5px"}},[Ve,h(" "+c(l.title),1)],4)):n("",!0)],64)))),256)):n("",!0),Le]),Ae]))),64))],512)))),128))])])};var Fe=e({name:"DailyCalendar",props:{events:{type:Array,default:[]},dayType:{type:String,default:"short"}},setup(e){const t=g("year",(new Date).getFullYear()),a=g("month",Number((new Date).getMonth())+1),l=g("day",(new Date).getDate());g("locale","en-US");const{events:n}=v(e);return{year:t,month:a,day:l,events:n,getShortTime:e=>{const t=e.split(/\s|,|\:|-|T|Z/g).filter((e=>""!==e));return`${t[3]}:${t[4]}`}}}});const Pe={class:"list listBorder listSharp bdDarker"},Ue={key:0,class:"listItem active flex txtBold bgDarkest bdDarker"},Xe=s("div",{class:"pw-15"},"allday",-1),Ge={class:"pdLeft-2"},ze=s("span",{class:"dot"},null,-1),Oe={class:"pdLeft-3"},Ze={key:1,class:"listItem flex bdDarker"},He={key:0,class:"pw-15"},je={key:1,class:"pw-15"},qe={class:"pdLeft-2"},Ke=s("span",{class:"dot"},null,-1),_e={class:"pdLeft-3"};Fe.render=function(e,l,n,r,u,d){return t(),a("div",Pe,[(t(!0),a(y,null,p(e.events,(l=>(t(),a(y,{key:l},[1===l.allday?(t(),a("div",Ue,[Xe,s("div",Ge,[ze,s("span",Oe,c(l.title),1)])])):(t(),a("div",Ze,["0000-00-00 00:00:00"===l.enddate?(t(),a("div",He,c(e.getShortTime(l.startdate)),1)):(t(),a("div",je,c(e.getShortTime(l.startdate))+" - "+c(e.getShortTime(l.enddate)),1)),s("div",qe,[Ke,s("span",_e,c(l.title),1)])]))],64)))),128))])};var Je=e({name:"CalendarPage",props:{toggle:{type:String,default:"monthly"},yearly:{type:String},start:{type:String},end:{type:String},yearlyEvents:{type:Array,default:[]},monthlyEvents:{type:Array,default:[]},dailyEvents:{type:Array,default:[]},weeklyEvents:{type:Array,default:[]}},emits:["update:yearly","update:start","update:end"],components:{YearlyCalendar:de,MonthlyCalendar:pe,WeeklyCalendar:we,DailyCalendar:Fe},setup(e,t){const a=r(""),l=r(""),n=r(""),s=b(e,"toggle"),u=b(e,"yearlyEvents"),d=b(e,"monthlyEvents"),o=b(e,"dailyEvents"),v=b(e,"weeklyEvents");return i(l,(()=>{t.emit("update:start",l.value)})),i(n,(()=>{t.emit("update:end",n.value)})),i(a,(()=>{t.emit("update:yearly",a.value)})),{yearRef:a,startRef:l,endRef:n,toggleRef:s,yearlyEvents:u,monthlyEvents:d,dailyEvents:o,weeklyEvents:v}}});const Qe={key:0},et={key:1},tt={key:2},at={key:3};Je.render=function(e,l,r,u,d,o){const v=f("YearlyCalendar"),i=f("MonthlyCalendar"),y=f("WeeklyCalendar"),p=f("DailyCalendar");return t(),a("div",null,["yearly"===e.toggleRef?(t(),a("div",Qe,[s(v,{modelValue:e.yearRef,"onUpdate:modelValue":l[1]||(l[1]=t=>e.yearRef=t),events:e.yearlyEvents,dayType:"narrow",monthType:"long"},null,8,["modelValue","events"])])):n("",!0),"monthly"===e.toggleRef?(t(),a("div",et,[s(i,{events:e.monthlyEvents,dayType:"long"},null,8,["events"])])):n("",!0),"weekly"===e.toggleRef?(t(),a("div",tt,[s(y,{start:e.startRef,"onUpdate:start":l[2]||(l[2]=t=>e.startRef=t),end:e.endRef,"onUpdate:end":l[3]||(l[3]=t=>e.endRef=t),events:e.weeklyEvents,dayType:"short"},null,8,["start","end","events"])])):n("",!0),"daily"===e.toggleRef?(t(),a("div",at,[s(p,{events:e.dailyEvents,dayType:"short"},null,8,["events"])])):n("",!0)])};var lt=e({name:"EventCalendarBar",props:{toggle:{type:String,default:"monthly"},year:{type:Number,default:(new Date).getFullYear()},month:{type:Number,default:Number((new Date).getMonth())+1},day:{type:Number,default:(new Date).getDate()},week:{type:Number},locale:{type:String,default:"en-US"},dayType:{type:String,default:"short"},monthType:{type:String,default:"long"}},emits:["update:toggle","update:year","update:month","update:day","update:week","action"],setup(e,t){const a=r(""),{toggle:l,year:n,month:s,day:u,locale:d,dayType:o,monthType:y}=v(e),{setYearRef:p,setMonthRef:c,setDayRef:g,setWeeks:m,setCalendarType:f,startYear:h,endYear:b,getRangeYears:D,getMonthNames:k,getDayNames:w,getWeeks:N,getCalendarTitle:x,handleYear:E,handleMonth:T,handleWeek:C,handleDay:S}=J(n,s,u,d,o,y);a.value=e.toggle,f.value=a.value,i(l,(()=>{a.value=e.toggle,f.value=a.value,p.value=e.year,c.value=e.month,g.value=e.day}));return{toggled:a,toggledEvent:e=>{a.value=e,f.value=a.value,t.emit("update:toggle",e),t.emit("action")},controlEvent:e=>{"daily"===f.value?(S(e),t.emit("update:year",p.value),t.emit("update:month",c.value),t.emit("update:day",g.value)):"weekly"===f.value?(C(e),t.emit("update:week",m.value)):"yearly"===f.value?(E(e),t.emit("update:year",p.value)):(T(e),t.emit("update:year",p.value),t.emit("update:month",c.value))},setYearRef:p,setMonthRef:c,setDayRef:g,setWeeks:m,setCalendarType:f,startYear:h,endYear:b,getRangeYears:D,getMonthNames:k,getDayNames:w,getWeeks:N,getCalendarTitle:x}}});const nt={class:"flexBetween itemsCenter"},st={class:"btnGroup"},rt=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"eventNone",viewBox:"0 0 16 16"},[s("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})],-1),ut=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"eventNone",viewBox:"0 0 16 16"},[s("path",{"fill-rule":"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})],-1),dt={class:"txtBold txt-6 txtOpacity-7 txtBlack dark"},ot={class:"btnGroup"};lt.render=function(e,l,n,r,u,d){return t(),a("div",nt,[s("div",st,[s("button",{type:"button",class:"btn bd-1 flexCenter itemsCenter darker",onClick:l[1]||(l[1]=t=>e.controlEvent("prev"))},[rt]),s("button",{type:"button",class:"btn bd-1 flexCenter itemsCenter darker",onClick:l[2]||(l[2]=t=>e.controlEvent("next"))},[ut]),s("button",{type:"button",class:"btn bd-1 darker",onClick:l[3]||(l[3]=t=>e.controlEvent(""))},"Today")]),s("div",dt,c(e.getCalendarTitle),1),s("div",ot,[s("button",{type:"button",class:["btn","bd-1",{active:"yearly"===e.toggled},"darker"],onClick:l[4]||(l[4]=t=>e.toggledEvent("yearly"))},"Year",2),s("button",{type:"button",class:["btn","bd-1",{active:"monthly"===e.toggled},"darker"],onClick:l[5]||(l[5]=t=>e.toggledEvent("monthly"))},"Month",2),s("button",{type:"button",class:["btn","bd-1",{active:"weekly"===e.toggled},"darker"],onClick:l[6]||(l[6]=t=>e.toggledEvent("weekly"))},"Week",2),s("button",{type:"button",class:["btn","bd-1",{active:"daily"===e.toggled},"darker"],onClick:l[7]||(l[7]=t=>e.toggledEvent("daily"))},"Day",2)])])};var vt=e({name:"TagsInput",props:{modelValue:{type:String,required:!0},datalist:{type:Array,default:[]},separator:{type:String,default:","},whitelist:{type:Array,default:[]},blacklist:{type:Array,default:[]},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(e,t){const a=r([]),l=r(""),n=r([]),s=r(null),u=r(!1),d=r("");a.value=e.datalist,n.value=B.complement(e.whitelist,a.value),d.value=e.placeholder;const o=()=>{const e=document.createElement("div");e.classList.add("tag:input-hidden");const t=l.value||s.value.getAttribute("placeholder")||"";e.innerHTML=t.replace(/ /g,"&nbsp;").trim(),document.body.appendChild(e);const a=Math.ceil(Number(window.getComputedStyle(e).width.replace("px","")))+1;s.value.style.setProperty("width",a+"px"),e.remove()},v=e=>{a.value.splice(e,1)},i=e=>e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),y=e=>{t.emit("update:modelValue",e)};return{tags:a,tag:l,whiteTags:n,tagInput:s,focusInput:()=>{s.value.focus()},autoWidth:o,createTag:t=>{if(l.value.includes(e.separator)||"Enter"===t.key){const t=l.value.replace(new RegExp(i(e.separator),"g"),"").trim();a.value.includes(t)||e.blacklist.includes(t)||(a.value.push(t),n.value.includes(t)&&(n.value=n.value.filter((e=>e!==t)))),y(t),l.value=""}o()},updateTag:(e,t)=>{l.value=e,v(t)},removeTag:v,placeholderInput:d,suggestion:u,openSuggestion:e=>{setTimeout((()=>{u.value=!0}),5e3)},closeSuggestion:()=>{setTimeout((()=>{u.value=!1}),300)}}}});const it={class:"picker"},yt={class:"pickerMenu wd-100 mgTop-0 bdTop-0 pd-0 ph-20 overflowAutoY"};vt.render=function(e,l,n,r,u,d){return t(),a("div",it,[s("div",{class:"tag:input",onClick:l[5]||(l[5]=(...t)=>e.focusInput&&e.focusInput(...t))},[(t(!0),a(y,null,p(e.tags,((l,n)=>(t(),a("div",{key:n,class:"tag-group"},[s("span",{class:"tag",onDblclick:t=>e.updateTag(l,n)},c(l),41,["onDblclick"]),s("span",{class:"tag tag-delete",onClick:t=>e.removeTag(n)},null,8,["onClick"])])))),128)),D(s("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=t=>e.tag=t),ref:"tagInput",class:"input-control",placeholder:e.placeholderInput,onInput:l[2]||(l[2]=t=>(e.autoWidth(),e.createTag(t),e.openSuggestion(e.tag))),onKeyup:l[3]||(l[3]=k((t=>e.createTag(t)),["enter"])),onBlur:l[4]||(l[4]=(...t)=>e.closeSuggestion&&e.closeSuggestion(...t))},null,40,["placeholder"]),[[w,e.tag]])]),s(N,{name:"tagsinput-transition","enter-active-class":"animate fadeIn:animate","leave-active-class":"animate fadeOut:animate"},{default:x((()=>[D(s("div",yt,[(t(!0),a(y,null,p(e.whiteTags,(e=>(t(),a("div",{key:e,class:"pickerItem",style:{"--bgActive":"var(--green)"}},c(e),1)))),128))],512),[[E,e.suggestion]])])),_:1})])};export{Q as BasicCalendar,Fe as DailyCalendar,j as DarkMode,Je as EventCalendar,lt as EventCalendarBar,pe as MonthlyCalendar,L as NavBar,R as Page,G as SideBar,vt as TagsInput,we as WeeklyCalendar,de as YearlyCalendar};
